<!DOCTYPE html>
<html>
<head>
    <title>windows下安装使用coffeescript</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<link rel="alternate" type="application/rss+xml" title="Freewind @ Thoughtworks &raquo; Feed" href="/feed.xml" />
<link rel='stylesheet' href='/css/main.css' type='text/css' media='all' />

</head>
<body>

<h1>
    windows下安装使用coffeescript
</h1>

<div>
    <hr />
<p>coffeescript是javascript的一种变种语言，它设计了各种好用的语法糖，让我们在写javascript代码时，会更加清晰简洁，带函数式语言的体验。</p>
<p>coffeescript有一个黄金定律：它就是Javascript</p>
<p>因为coffeescript提供了转换器，可以把写出来的coffee代码转换为等价的javascript代码。这样我们就可以在开发时写coffeescript，而在发布时把它转换为javascript。</p>
<p>例子可参看coffee的主页：<a href="http://jashkenas.github.com/coffee-script/">http://jashkenas.github.com/coffee-script/</a></p>
<p>有很多精彩的例子，看完后就会让人爱上写coffeescript。</p>
<p>这里讲的是如果在windows下安装coffeescript。</p>
<p><span id="more-450"></span>
<br  /><p>coffeescript依赖于node.js，它们这一套&#8221;运行于服务器端的js&#8221;通常在linux下会用的比较爽，因为node有一个叫npm(Node Package Manager)的工具，可以让我们方便地安装各种js库。比如在linux下安装coffee，只需要：</p>
<pre><code>npm install -g coffee-script
</code></pre>
<p>可惜的是，这个npm工具不支持windows，如果想在windows下使用，还得安装一些如cygwin这样的linux模拟环境。如果我们仅仅想使用coffee的话，安装这个就太麻烦了。</p>
<p>在这个网页上，介绍了一种简单的方法：<a href="https://github.com/alisey/CoffeeScript-Compiler-for-Windows">https://github.com/alisey/CoffeeScript-Compiler-for-Windows</a></p>
<ol>
<li>在node.js网站上下载node.exe: <a href="http://nodejs.org/#download">http://nodejs.org/#download</a></li>
<li>下载coffeescript: <a href="http://github.com/jashkenas/coffee-script/tarball/master">http://github.com/jashkenas/coffee-script/tarball/master</a></li>
<li>然后创建一个coffee.cmd文件，内容如下：<pre><code>@echo off
"C:/Node/node.exe" "C:/CoffeeScript/bin/coffee" %*
</code></pre>
</li>
</ol>
<p>注意你需要把里面的路径写对，并把它加入到path中，以方便调用。</p>
<p><strong>测试</strong></p>
<p>创建一个文件，如test.coffee，内容如下：</p>
<pre><code>square = (x) -&gt; x * x
</code></pre>
<p>使用coffee.cmd将它编译为js文件：</p>
<pre><code>coffee -c test.coffee
</code></pre>
<p>运行后，如果一切正常的话，你会发现test.coffee同级目录下，将会多出一个test.js文件，内容如下：</p>
<pre><code>(function() {
  var square;

  square = function(x) {
    return x * x;
  };

}).call(this);
</code></pre>
<p>这样就说明我们的coffee安装成功了！</p>
<p>此命令行有以下参数可供使用</p>
<pre><code>-c, --compile       compile to JavaScript and save as .js files
-o, --output [DIR]  set the directory for compiled JavaScript
-j, --join [FILE]   concatenate the scripts before compiling
-b, --bare          compile without the top-level function wrapper
-v, --version       display CoffeeScript version
-h, --help          display a list of available options
</code></pre>

</div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'freewind'; // required: replace example with your forum shortname
    var disqus_identifier = '450';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</body>
<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-54316895-1");
        pageTracker._trackPageview();
    } catch(err) {}
</script>

</html>
