<!DOCTYPE html>
<html>
<head>
    <title>使用真机测试android程序</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<link rel="alternate" type="application/rss+xml" title="Freewind @ Thoughtworks &raquo; Feed" href="/feed.xml" />

<link href="/assets/rainbow/themes/github.css" rel="stylesheet" type="text/css">
<link rel='stylesheet' href='/assets/css/main.css' type='text/css' media='all' />

<script src="/assets/rainbow/js/rainbow.js"></script>
<script src="/assets/rainbow/js/language/generic.js"></script>
<script src="/assets/rainbow/js/language/python.js"></script>
<script src="/assets/rainbow/js/language/java.js"></script>
<script src="/assets/rainbow/js/language/javascript.js"></script>
<script src="/assets/rainbow/js/language/html.js"></script>
<script src="/assets/rainbow/js/language/css.js"></script>
<script src="/assets/rainbow/js/language/scala.js"></script>
<script src="/assets/rainbow/js/language/shell.js"></script>

</head>
<body>

<h1>
    (2013-01-01) 使用真机测试android程序
</h1>

<div>
    <a href="http://findti.com/?r=0379029af20eda86" target="_blank">广告：从今天开始用云梯翻墙</a>
</div>


<hr/>

<div>
    <p>之前一直使用模拟器，但无法测试触屏操作：比如想把一张图片拉大，在模拟器上就没法做。</p>
<p>Idea/eclipse都支持直接把程序发布到usb设备上，所以使用真机测试也一样方便。</p>
<p>但我在使用真机时，遇到了一些麻烦，弄了一上午才搞好，特记录一下：</p>
<h2>我的环境</h2>
<ol>
<li>Windows 7 x642.  Android平板：智器ten3, android 4.0</li>
</ol>
<h2>把平板连接到电脑上</h2>
<p>Android连接到电脑上，比想像中的麻烦，因为它与电脑之间传输，使用的是mtp协议，而不像U盘那样插上去就直接能用。</p>
<p>有一些注意事项：</p>
<ol>
<li>安装Windows media player 11。如果在winxp下，需要安装这个，因为它才支持那个什么协议。如果是在win7下，就不用了，已自带。2.  平板上有一个"usb调试"的选项。如果关闭它，操作系统会把它当作一种设备；如果开启它，又会把它当作另一种设备。所以需要安装两种驱动。对于我们开发人员来说，要打开"usb调试&rdquo;，这时操作系统会安装mtp驱动</li>
</ol>
<p>不知道为什么，我的win7 x64在安装mtp驱动时，总是提示失败，搞了一上午。网上也能搜出一大堆同样的问题，后来我照着这个网页<a href="http://www.tomshardware.com/forum/242140-44-device-refuses-installed-please">http://www.tomshardware.com/forum/242140-44-device-refuses-installed-please</a>的bestanswer安装了这个：mtppk12.exe，还是不行，非常泄气。正准备放弃的时候，看到有人提示可以重启一下android设备，于是重启了一下平板，奇迹出现了，一下子全都安装好了！</p>
<p>期间使用了腾讯的手机精灵和豌豆夹，都提示设备离线，无法连接，而现在都能连进去管理了！</p>
<h2>使用idea直接发布项目</h2>
<p>打开idea，打开之前的一个项目，修改发布配置，改为“发布到usb设备“，然后点击发布按钮。但失败了，控制台上输出：</p>
<div class="mycode">Failure [INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATES]</div>
<p>在这里找到了答案：<a href="http://stackoverflow.com/questions/3185444/how-to-deal-with-install-parse-failed-inconsistent-certificates-without-uninstal">http://stackoverflow.com/questions/3185444/how-to-deal-with-install-parse-failed-inconsistent-certificates-without-uninstal</a></p>
<p>原来我之前已经在平板上，通过http下载方式安装了这个程序，把它卸载后，再点发布按钮，就成功了！</p>
<p>使用真机的速度，比在电脑上使用模拟器还要快一些，而且没有任何不便之处，推荐使用。</p>

</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'freewind'; // required: replace example with your forum shortname
    var disqus_identifier = '1205';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</body>
<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-54316895-1");
        pageTracker._trackPageview();
    } catch(err) {}
</script>

</html>
